import{_ as X,a as Y,b as Z,c as ee,d as te}from"../modules/unplugin-icons-CF1HqLX2.js";import{d as B,c as g,i as f,A as t,o as i,y as m,b as h,e,l,F as V,x as N,g as z,a7 as se,ab as oe,ac as ne,h as I,p as U,a as W,t as A,D as G,M as le,a8 as ae,J as re,ad as ie,a1 as ce,k as $,ae as ue}from"../modules/vue-D2lcLnn_.js";import{b as R,k as de,r as pe,C as ve,u as me,c as H,j as _e,l as fe,d as xe,m as ge,n as he,o as T,q as ke,g as ye,t as be,v as Ce,x as we}from"../index-BzHxaLMT.js";import{u as Se,r as $e,a as Ne,S as O,I as Q,Q as ze,b as Ie,o as Fe,N as Me,G as De,C as qe}from"./ContextMenu-C44a3xsR.js";import{S as Te}from"./bottom-BATulHqG.js";import{N as Ve}from"./NoteDisplay-Q2FecY3f.js";import Be from"./DrawingControls-HGvmf5Vq.js";import{u as Re}from"./DrawingPreview-DNHcX0Bo.js";import"../modules/shiki-DuhqrmLp.js";import"./context-DHRpk6fg.js";const Pe=B({__name:"NoteStatic",props:{no:{type:Number,required:!0},class:{type:String,required:!1},clicksContext:{type:null,required:!1}},setup(a){const r=a,{info:s}=Se(r.no);return(u,c)=>{var o,x;return i(),g(Ve,{class:f(r.class),note:(o=t(s))==null?void 0:o.note,"note-html":(x=t(s))==null?void 0:x.noteHTML,"clicks-context":u.clicksContext},null,8,["class","note","note-html","clicks-context"])}}}),Le=R(Pe,[["__file","C:/pr/my/vue/speech/2024/2_holy-spring_vue-renderer/slides/node_modules/.pnpm/@slidev+client@0.49.0-beta.2_postcss@8.4.38_vite@5.2.8/node_modules/@slidev/client/internals/NoteStatic.vue"]]),E=a=>(U("data-v-52f73aa7"),a=a(),W(),a),je=["title"],Ae={class:"flex gap-0.5 items-center min-w-16 font-mono mr1"},Ge=E(()=>e("div",{"flex-auto":""},null,-1)),He={"text-primary":""},Oe=E(()=>e("span",{op25:""},"/",-1)),Qe={op50:""},Ue=["min","max"],We=B({__name:"ClicksSlider",props:{clicksContext:{type:null,required:!0}},setup(a){const r=a,s=m(()=>r.clicksContext.total),u=m(()=>de(0,r.clicksContext.clicksStart,s.value)),c=m(()=>s.value-u.value+1),o=m({get(){return r.clicksContext.current>s.value?-1:r.clicksContext.current},set(k){r.clicksContext.current=k}}),x=m(()=>pe(u.value,s.value+1));function F(){(o.value<0||o.value>s.value)&&(o.value=0)}return(k,d)=>{const M=X;return i(),h("div",{class:f(["flex gap-1 items-center select-none",c.value?"":"op50"]),title:`Clicks in this slide: ${c.value}`},[e("div",Ae,[l(M,{"text-sm":"",op50:""}),Ge,o.value>=0&&o.value!==t(ve)?(i(),h(V,{key:0},[e("span",He,N(o.value),1),Oe],64)):z("v-if",!0),e("span",Qe,N(s.value),1)]),e("div",{relative:"","flex-auto":"",h5:"","font-mono":"",flex:"~",onDblclick:d[2]||(d[2]=n=>o.value=k.clicksContext.total)},[(i(!0),h(V,null,se(x.value,n=>(i(),h("div",{key:n,border:"y main","of-hidden":"",relative:"",class:f([n===0?"rounded-l border-l":"",n===s.value?"rounded-r border-r":""]),style:I({width:c.value>0?`${1/c.value*100}%`:"100%"})},[e("div",{absolute:"","inset-0":"",class:f(n<=o.value?"bg-primary op15":"")},null,2),e("div",{class:f([+n==+o.value?"text-primary font-bold op100 border-primary":"op30 border-main",n===0?"rounded-l":"",n===s.value?"rounded-r":"border-r-2"]),"w-full":"","h-full":"","text-xs":"",flex:"","items-center":"","justify-center":"","z-1":""},N(n),3)],6))),128)),oe(e("input",{"onUpdate:modelValue":d[0]||(d[0]=n=>o.value=n),class:"range",absolute:"","inset-0":"",type:"range",min:u.value,max:s.value,step:1,"z-10":"",op0:"",style:I({"--thumb-width":`${1/(c.value+1)*100}%`}),onMousedown:F,onFocus:d[1]||(d[1]=n=>{var C;return(C=n.currentTarget)==null?void 0:C.blur()})},null,44,Ue),[[ne,o.value]])],32)],10,je)}}}),Ee=R(We,[["__scopeId","data-v-52f73aa7"],["__file","C:/pr/my/vue/speech/2024/2_holy-spring_vue-renderer/slides/node_modules/.pnpm/@slidev+client@0.49.0-beta.2_postcss@8.4.38_vite@5.2.8/node_modules/@slidev/client/internals/ClicksSlider.vue"]]),P=a=>(U("data-v-100f6de5"),a=a(),W(),a),Je={class:"bg-main h-full slidev-presenter"},Ke=P(()=>e("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1)),Xe={class:"relative grid-section next flex flex-col p-2 lg:p-4"},Ye=P(()=>e("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1)),Ze={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},et={class:"border-t border-main py-1 px-2 text-sm"},tt={class:"grid-section bottom flex"},st=P(()=>e("div",{"flex-auto":""},null,-1)),ot={class:"text-2xl pl-2 pr-6 my-auto tabular-nums"},nt={class:"progress-bar"},lt=B({__name:"presenter",setup(a){const r=A();$e(),Ne(r);const{clicksContext:s,currentSlideNo:u,currentSlideRoute:c,hasNext:o,nextRoute:x,slides:F,queryClicks:k,getPrimaryClicks:d,total:M}=me(),{isDrawing:n}=Re(),C=H.titleTemplate.replace("%s",H.title||"Slidev");_e({title:`Presenter - ${C}`}),A(!1);const{timer:J,resetTimer:L}=fe(),K=m(()=>F.value.map(S=>xe(S))),p=m(()=>s.value.current<s.value.total?[c.value,s.value.current+1]:o.value?[x.value,0]:null),w=m(()=>p.value&&K.value[p.value[0].no-1]);return G([c,k],()=>{w.value&&(w.value.current=p.value[1])},{immediate:!0}),le(),ae(()=>{const S=r.value.querySelector("#slide-content"),_=re(ie()),D=ce();G(()=>{if(!D.value||n.value||!he.value)return;const v=S.getBoundingClientRect(),y=(_.x-v.left)/v.width*100,b=(_.y-v.top)/v.height*100;if(!(y<0||y>100||b<0||b>100))return{x:y,y:b}},v=>{ge.cursor=v})}),(S,_)=>{var j;const D=Y,v=Z,y=ee,b=te;return i(),h(V,null,[e("div",Je,[e("div",{class:f(["grid-container",`layout${t(ke)}`])},[e("div",{ref_key:"main",ref:r,class:"relative grid-section main flex flex-col"},[l(O,{key:"main",class:"h-full w-full p-2 lg:p-4 flex-auto",onContextmenu:t(Fe)},{default:$(()=>[l(Ie,{"render-context":"presenter"})]),_:1},8,["onContextmenu"]),(i(),g(Ee,{key:(j=t(c))==null?void 0:j.no,"clicks-context":t(d)(t(c)),class:"w-full pb2 px4 flex-none"},null,8,["clicks-context"])),Ke],512),e("div",Xe,[p.value&&w.value?(i(),g(O,{key:"next",class:"h-full w-full"},{default:$(()=>[(i(),g(Te,{is:p.value[0].component,key:p.value[0].no,"clicks-context":w.value,class:f(t(ye)(p.value[0])),route:p.value[0],"render-context":"previewNext"},null,8,["is","clicks-context","class","route"]))]),_:1})):z("v-if",!0),Ye]),z(" Notes "),(i(),h("div",Ze,[(i(),g(Le,{key:`static-${t(u)}`,no:t(u),class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:I({fontSize:`${t(be)}em`}),"clicks-context":t(s)},null,8,["no","style","clicks-context"])),e("div",et,[l(Q,{title:"Increase font size",onClick:t(Ce)},{default:$(()=>[l(D)]),_:1},8,["onClick"]),l(Q,{title:"Decrease font size",onClick:t(we)},{default:$(()=>[l(v)]),_:1},8,["onClick"]),z("v-if",!0)])])),e("div",tt,[l(Me,{persist:!0}),st,e("div",{class:"timer-btn my-auto relative w-22px h-22px cursor-pointer text-lg",opacity:"50 hover:100",onClick:_[2]||(_[2]=(...q)=>t(L)&&t(L)(...q))},[l(y,{class:"absolute"}),l(b,{class:"absolute opacity-0"})]),e("div",ot,N(t(J)),1)]),(i(),g(Be,{key:2}))],2),e("div",nt,[e("div",{class:"progress h-3px bg-primary transition-all",style:I({width:`${(t(u)-1)/(t(M)-1)*100}%`})},null,4)])]),l(De),l(ze,{modelValue:t(T),"onUpdate:modelValue":_[3]||(_[3]=q=>ue(T)?T.value=q:null)},null,8,["modelValue"]),l(qe)],64)}}}),ft=R(lt,[["__scopeId","data-v-100f6de5"],["__file","C:/pr/my/vue/speech/2024/2_holy-spring_vue-renderer/slides/node_modules/.pnpm/@slidev+client@0.49.0-beta.2_postcss@8.4.38_vite@5.2.8/node_modules/@slidev/client/pages/presenter.vue"]]);export{ft as default};
