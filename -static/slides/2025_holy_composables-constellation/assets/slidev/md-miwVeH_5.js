import{al as B,ap as w,aq as I}from"../index-Dnpc0y2r.js";import{d as A,M,P,b as S,o as k,F as T,aU as D,h as l,e as C,aV as m,aW as G,ai as R,w as b,g as o,ae as U,v as E,x as F,U as g}from"../modules/vue-C5JO9rSz.js";import{u as $,f as L}from"./context-CLQlI6Wc.js";import{_ as q}from"../default-B2874Nsq.js";import"../modules/shiki-BZrQBRno.js";const O=A({__name:"VClickGap",props:{size:{type:[String,Number],default:1}},setup(d){const a=d,{$clicksContext:c}=$(),t=B();let s=+a.size;return Number.isNaN(s)&&(console.warn(`[slidev] Invalid size for VClickGap: ${a.size}`),s=1),M(()=>{const i=c.currentOffset+s-1;c.register(t,{max:i,delta:s})}),P(()=>{c.unregister(t)}),(i,u)=>(k(),S(T))}}),N=["ul","ol"],W=A({props:{depth:{type:[Number,String],default:1},every:{type:[Number,String],default:1},at:{type:[Number,String],default:"+1"},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},handleSpecialElements:{type:Boolean,default:!0}},render(){const d=+this.every,a=w(this.at),c=typeof a=="string";let t=this.$slots.default?.();if(a==null||!t)return t;const s=D("click"),i=(n,e)=>R(n,[[s,e,"",{hide:this.hide,fade:this.fade}]]),u=n=>n.flatMap(e=>m(e)&&typeof e.type=="symbol"&&Array.isArray(e.children)?u(e.children):[e]);t=u(I(t));const V=(n,e=1)=>u(n).map(r=>{if(!m(r))return r;if(N.includes(r.type)&&Array.isArray(r.children)){const p=f(r.children,e+1);return l(r,{},p)}return l(r)});let _=1,h=0;const f=(n,e=1)=>u(n).map(r=>{if(!m(r)||r.type===G)return r;const p=+a+Math.ceil(_++/d)-1;let x;e<+this.depth&&Array.isArray(r.children)?x=l(r,{},V(r.children,e)):x=l(r);const v=p-h;return h=p,i(x,c?v>=0?`+${v}`:`${v}`:p)}),y=()=>C(O,{size:+a+Math.ceil((_-1)/d)-1-h});if(this.handleSpecialElements){if(t.length===1&&N.includes(t[0].type)&&Array.isArray(t[0].children))return l(t[0],{},[...f(t[0].children),y()]);if(t.length===1&&t[0].type==="table"){const n=t[0];if(Array.isArray(n.children))return l(n,{},n.children.map(e=>m(e)?e.type==="tbody"&&Array.isArray(e.children)?l(e,{},[...f(e.children),y()]):l(e):e))}}return[...f(t),y()]}}),j={class:"grid grid-cols-2 gap-2"},Y={__name:"6_complex.md__slidev_55",setup(d){const{$clicksContext:a,$frontmatter:c}=$();return a.setup(),(t,s)=>{const i=W;return k(),S(q,E(F(g(L)(g(c),54))),{default:b(()=>[s[1]||(s[1]=o("h1",null,"Shared Composable",-1)),o("div",j,[C(i,null,{default:b(()=>[...s[0]||(s[0]=[o("div",{class:"cs-green box box--rich text-center"}," Оптимизация доступа ",-1),o("div",{class:"cs-red box box--rich text-center"},[U(" Не дружит с "),o("strong",null,"SSR")],-1),o("div",{class:"cs-blue box box--rich text-center"}," Стейт менеджер? ",-1),o("div",{class:"cs-red box box--rich text-center"}," Циклические зависимости ",-1),o("div",{class:"cs-green box box--rich text-center"}," Очищает себя самостоятельно ",-1),o("div",{class:"cs-red box box--rich text-center"}," Хрупкость конструкции ",-1)])]),_:1})])]),_:1},16)}}};export{Y as default};
