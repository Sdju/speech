import{d as h,f as x,q as C,s as O,D as _,J as n,O as u,P as j}from"./modules/vue--jQnZVtx.js";import{u as g}from"./slidev/context-z35ddS6i.js";import{k as A}from"./index-BMB48uBV.js";const T=h({__name:"Timeline",props:{steps:{}},setup(d){g();function v({steps:c}){let o=A(),p=n(()=>{const e=u(c);let r=0,t=new Set(Object.keys(e[0])),m=1+u(e).reduce((l,s)=>{var a,k;let i=((a=s.$clicks)==null?void 0:a[1])??((k=s.$clicks)==null?void 0:k[0])??s.$clicks??r++;return s.change&&Object.keys(s).forEach(b=>{t.add(b)}),Math.max(l,i)},o.clicksTotal.value);return t.delete("$clicks"),{maxClicks:m,keys:Array.from(t)}});const y=n(()=>{const e=p.value.maxClicks,r=u(c),t=Array.from({length:e},()=>Object.create(r[0]));let m=0;return u(c).forEach(l=>{let s=0,i=e;l.$clicks===void 0?s=m++:typeof l.$clicks=="number"?s=l.$clicks:Array.isArray(l.$clicks)&&(s=l.$clicks[0]??0,i=l.$clicks[1]??e);for(let a=s;a<i;a++)Object.assign(t[a],l)}),t}),f=n(()=>y.value[o.clicks.value]);return j(Object.fromEntries(p.value.keys.map(e=>[e,n(()=>{var t;const r=(t=f.value)==null?void 0:t[e];return r===void 0&&console.warn(`Key ${e} not found in ${f.value} ${o.clicks.value}`),r})])))}const $=v({steps:d.steps});return(c,o)=>x(c.$slots,"default",C(O(_($))))}});export{T as _};
