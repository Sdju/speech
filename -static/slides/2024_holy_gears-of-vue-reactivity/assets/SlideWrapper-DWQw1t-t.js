import{t as $,A as S,C as w,S as Fe,V as kt,ay as ze,O as tt,y as De,n as Ie,G as et,d as U,o as L,b as I,g as ct,az as Ae,aA as Ne,aB as W,L as Te,e as z,f as zt,h as O,F as rt,aC as Re,aD as ue,aE as he,D as je,aF as Xe,ah as Ut,x as X,l as V,ao as lt,a0 as Oe,ab as yt,c as de,aG as Ye,k as Ke,i as fe,v as ve,ad as Be,aq as qe}from"./modules/vue-Q4s2-U04.js";import{Q as pe,a as gt,v as Dt,Z as Lt,$ as Ht,a0 as Ve,Y as Ge,a1 as ut,a2 as Ue,a3 as He,a4 as Zt,K as Qt,z as Jt,A as Wt,R as Ze,a5 as Qe,_ as Rt,a6 as Je,a7 as We,a8 as tn,a9 as en,aa as nn,ab as sn,ac as rn}from"./index-BbiOO84V.js";import{A as on}from"./modules/unplugin-icons-DB9XkFc3.js";import{u as Z}from"./slidev/context-lgS2nqr9.js";import{t as an}from"./bundle-mjs-Dnoi3Axr.js";import{c as it,g as ln,a as cn}from"./modules/file-saver-igGfcqei.js";function un(t){var e;return{info:$(((e=pe(t))==null?void 0:e.meta.slide)??null),update:async()=>{}}}const Ft={};function nr(t){function e(n){return Ft[n]??(Ft[n]=un(n))}return{info:S({get(){return e(w(t)).info.value},set(n){e(w(t)).info.value=n}}),update:async(n,r)=>{const i=e(r??w(t)),l=await i.update(n);return l&&(i.info.value=l),l}}}var hn=Object.defineProperty,te=Object.getOwnPropertySymbols,dn=Object.prototype.hasOwnProperty,fn=Object.prototype.propertyIsEnumerable,ee=(t,e,n)=>e in t?hn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,It=(t,e)=>{for(var n in e||(e={}))dn.call(e,n)&&ee(t,n,e[n]);if(te)for(var n of te(e))fn.call(e,n)&&ee(t,n,e[n]);return t},vn=()=>({emit(t,...e){for(let n=0,r=this.events[t]||[],i=r.length;n<i;n++)r[n](...e)},events:{},on(t,e){var n;return((n=this.events)[t]||(n[t]=[])).push(e),()=>{var r;this.events[t]=(r=this.events[t])==null?void 0:r.filter(i=>e!==i)}}});function ne(t,e,n,r=i=>i){return t*r(.5-e*(.5-n))}function pn(t){return[-t[0],-t[1]]}function q(t,e){return[t[0]+e[0],t[1]+e[1]]}function K(t,e){return[t[0]-e[0],t[1]-e[1]]}function B(t,e){return[t[0]*e,t[1]*e]}function gn(t,e){return[t[0]/e,t[1]/e]}function ft(t){return[t[1],-t[0]]}function se(t,e){return t[0]*e[0]+t[1]*e[1]}function mn(t,e){return t[0]===e[0]&&t[1]===e[1]}function xn(t){return Math.hypot(t[0],t[1])}function yn(t){return t[0]*t[0]+t[1]*t[1]}function re(t,e){return yn(K(t,e))}function ge(t){return gn(t,xn(t))}function _n(t,e){return Math.hypot(t[1]-e[1],t[0]-e[0])}function vt(t,e,n){let r=Math.sin(n),i=Math.cos(n),l=t[0]-e[0],v=t[1]-e[1],o=l*i-v*r,s=l*r+v*i;return[o+e[0],s+e[1]]}function At(t,e,n){return q(t,B(K(e,t),n))}function ie(t,e,n){return q(t,B(e,n))}var{min:at,PI:wn}=Math,oe=.275,pt=wn+1e-4;function Sn(t,e={}){let{size:n=16,smoothing:r=.5,thinning:i=.5,simulatePressure:l=!0,easing:v=b=>b,start:o={},end:s={},last:u=!1}=e,{cap:c=!0,easing:a=b=>b*(2-b)}=o,{cap:h=!0,easing:d=b=>--b*b*b+1}=s;if(t.length===0||n<=0)return[];let f=t[t.length-1].runningLength,p=o.taper===!1?0:o.taper===!0?Math.max(n,f):o.taper,_=s.taper===!1?0:s.taper===!0?Math.max(n,f):s.taper,y=Math.pow(n*r,2),E=[],m=[],g=t.slice(0,10).reduce((b,j)=>{let C=j.pressure;if(l){let F=at(1,j.distance/n),$t=at(1,1-F);C=at(1,b+($t-b)*(F*oe))}return(b+C)/2},t[0].pressure),x=ne(n,i,t[t.length-1].pressure,v),P,k=t[0].vector,M=t[0].point,T=M,A=M,D=T,Y=!1;for(let b=0;b<t.length;b++){let{pressure:j}=t[b],{point:C,vector:F,distance:$t,runningLength:dt}=t[b];if(b<t.length-1&&f-dt<3)continue;if(i){if(l){let J=at(1,$t/n),Ct=at(1,1-J);j=at(1,g+(Ct-g)*(J*oe))}x=ne(n,i,j,v)}else x=n/2;P===void 0&&(P=x);let Ce=dt<p?a(dt/p):1,ke=f-dt<_?d((f-dt)/_):1;x=Math.max(.01,x*Math.min(Ce,ke));let qt=(b<t.length-1?t[b+1]:t[b]).vector,Mt=b<t.length-1?se(F,qt):1,Le=se(F,k)<0&&!Y,Vt=Mt!==null&&Mt<0;if(Le||Vt){let J=B(ft(k),x);for(let Ct=1/13,xt=0;xt<=1;xt+=Ct)A=vt(K(C,J),C,pt*xt),E.push(A),D=vt(q(C,J),C,pt*-xt),m.push(D);M=A,T=D,Vt&&(Y=!0);continue}if(Y=!1,b===t.length-1){let J=B(ft(F),x);E.push(K(C,J)),m.push(q(C,J));continue}let Gt=B(ft(At(qt,F,Mt)),x);A=K(C,Gt),(b<=1||re(M,A)>y)&&(E.push(A),M=A),D=q(C,Gt),(b<=1||re(T,D)>y)&&(m.push(D),T=D),g=j,k=F}let N=t[0].point.slice(0,2),R=t.length>1?t[t.length-1].point.slice(0,2):q(t[0].point,[1,1]),Q=[],G=[];if(t.length===1){if(!(p||_)||u){let b=ie(N,ge(ft(K(N,R))),-(P||x)),j=[];for(let C=1/13,F=C;F<=1;F+=C)j.push(vt(b,N,pt*2*F));return j}}else{if(!(p||_&&t.length===1))if(c)for(let j=1/13,C=j;C<=1;C+=j){let F=vt(m[0],N,pt*C);Q.push(F)}else{let j=K(E[0],m[0]),C=B(j,.5),F=B(j,.51);Q.push(K(N,C),K(N,F),q(N,F),q(N,C))}let b=ft(pn(t[t.length-1].vector));if(_||p&&t.length===1)G.push(R);else if(h){let j=ie(R,b,x);for(let C=1/29,F=C;F<1;F+=C)G.push(vt(j,R,pt*3*F))}else G.push(q(R,B(b,x)),q(R,B(b,x*.99)),K(R,B(b,x*.99)),K(R,B(b,x)))}return E.concat(G,m.reverse(),Q)}function bn(t,e={}){var n;let{streamline:r=.5,size:i=16,last:l=!1}=e;if(t.length===0)return[];let v=.15+(1-r)*.85,o=Array.isArray(t[0])?t:t.map(({x:d,y:f,pressure:p=.5})=>[d,f,p]);if(o.length===2){let d=o[1];o=o.slice(0,-1);for(let f=1;f<5;f++)o.push(At(o[0],d,f/4))}o.length===1&&(o=[...o,[...q(o[0],[1,1]),...o[0].slice(2)]]);let s=[{point:[o[0][0],o[0][1]],pressure:o[0][2]>=0?o[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,c=0,a=s[0],h=o.length-1;for(let d=1;d<o.length;d++){let f=l&&d===h?o[d].slice(0,2):At(a.point,o[d],v);if(mn(a.point,f))continue;let p=_n(f,a.point);if(c+=p,d<h&&!u){if(c<i)continue;u=!0}a={point:f,pressure:o[d][2]>=0?o[d][2]:.5,vector:ge(K(a.point,f)),distance:p,runningLength:c},s.push(a)}return s[0].vector=((n=s[1])==null?void 0:n.vector)||[0,0],s}function En(t,e={}){return Sn(bn(t,e),e)}function _t(t,e){return t-e}function Pn(t){return t<0?-1:1}function wt(t){return[Math.abs(t),Pn(t)]}function me(){const t=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}var $n=2,H=$n,ht=class{constructor(t){this.drauu=t,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(t){}onUnselected(){}onStart(t){}onMove(t){return!1}onEnd(t){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(t){var e,n,r;const i=this.drauu.el,l=(e=this.drauu.options.coordinateScale)!=null?e:1,v=(n=this.drauu.options.offset)!=null?n:{x:0,y:0};if(this.drauu.options.coordinateTransform===!1){const o=this.drauu.el.getBoundingClientRect();return{x:(t.pageX-o.left+v.x)*l,y:(t.pageY-o.top+v.y)*l,pressure:t.pressure}}else{const o=this.drauu.svgPoint;o.x=t.clientX+v.x,o.y=t.clientY+v.y;const s=o.matrixTransform((r=i.getScreenCTM())==null?void 0:r.inverse());return{x:s.x*l,y:s.y*l,pressure:t.pressure}}}createElement(t,e){var n;const r=document.createElementNS("http://www.w3.org/2000/svg",t),i=e?It(It({},this.brush),e):this.brush;return r.setAttribute("fill",(n=i.fill)!=null?n:"transparent"),r.setAttribute("stroke",i.color),r.setAttribute("stroke-width",i.size.toString()),r.setAttribute("stroke-linecap","round"),i.dasharray&&r.setAttribute("stroke-dasharray",i.dasharray),r}attr(t,e){this.el.setAttribute(t,typeof e=="string"?e:e.toFixed(H))}_setEvent(t){this.event=t,this.point=this.getMousePosition(t)}_eventDown(t){return this._setEvent(t),this.start=this.point,this.onStart(this.point)}_eventMove(t){return this._setEvent(t),this.onMove(this.point)}_eventUp(t){return this._setEvent(t),this.onEnd(this.point)}},Mn=class xe extends ht{constructor(){super(...arguments),this.points=[]}onStart(e){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[e],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&this.points.push(e),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!!e}getSvgData(e){return xe.getSvgData(e,this.brush)}static getSvgData(e,n){const r=En(e,It({size:n.size,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},n.stylusOptions));if(!r.length)return"";const i=r.reduce((l,[v,o],s,u)=>{const[c,a]=u[(s+1)%u.length];return l.push(v,o,(v+c)/2,(o+a)/2),l},["M",...r[0],"Q"]);return i.push("Z"),i.map(l=>typeof l=="number"?l.toFixed(2):l).join(" ")}},Cn=class extends ht{onStart(t){return this.el=this.createElement("ellipse"),this.attr("cx",t.x),this.attr("cy",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[e,n]=wt(t.x-this.start.x),[r,i]=wt(t.y-this.start.y);if(this.shiftPressed){const l=Math.min(e,r);e=l,r=l}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",e),this.attr("ry",r);else{const[l,v]=[this.start.x,this.start.x+e*n].sort(_t),[o,s]=[this.start.y,this.start.y+r*i].sort(_t);this.attr("cx",(l+v)/2),this.attr("cy",(o+s)/2),this.attr("rx",(v-l)/2),this.attr("ry",(s-o)/2)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function ye(t,e){const n=document.createElementNS("http://www.w3.org/2000/svg","defs"),r=document.createElementNS("http://www.w3.org/2000/svg","marker"),i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("fill",e),r.setAttribute("id",t),r.setAttribute("viewBox","0 -5 10 10"),r.setAttribute("refX","5"),r.setAttribute("refY","0"),r.setAttribute("markerWidth","4"),r.setAttribute("markerHeight","4"),r.setAttribute("orient","auto"),i.setAttribute("d","M0,-5L10,0L0,5"),r.appendChild(i),n.appendChild(r),n}var kn=class extends ht{onStart(t){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",t.x),this.attr("y1",t.y),this.attr("x2",t.x),this.attr("y2",t.y),this.brush.arrowEnd){const e=me(),n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.append(ye(e,this.brush.color)),n.append(this.el),this.attr("marker-end",`url(#${e})`),n}return this.el}onMove(t){if(!this.el)return!1;let{x:e,y:n}=t;if(this.shiftPressed){const r=t.x-this.start.x,i=t.y-this.start.y;if(i!==0){let l=r/i;l=Math.round(l),Math.abs(l)<=1?(e=this.start.x+i*l,n=this.start.y+i):(e=this.start.x+r,n=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-e),this.attr("y1",this.start.y*2-n),this.attr("x2",e),this.attr("y2",n)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",e),this.attr("y2",n)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||t.getTotalLength()<5)}},Ln=class extends ht{onStart(t){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",t.x),this.attr("y",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[e,n]=wt(t.x-this.start.x),[r,i]=wt(t.y-this.start.y);if(this.shiftPressed){const l=Math.min(e,r);e=l,r=l}if(this.altPressed)this.attr("x",this.start.x-e),this.attr("y",this.start.y-r),this.attr("width",e*2),this.attr("height",r*2);else{const[l,v]=[this.start.x,this.start.x+e*n].sort(_t),[o,s]=[this.start.y,this.start.y+r*i].sort(_t);this.attr("x",l),this.attr("y",o),this.attr("width",v-l),this.attr("height",s-o)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function Fn(t,e){const n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function zn(t,e,n){let r=e.x,i=e.y,l=n.x-r,v=n.y-i;if(l!==0||v!==0){const o=((t.x-r)*l+(t.y-i)*v)/(l*l+v*v);o>1?(r=n.x,i=n.y):o>0&&(r+=l*o,i+=v*o)}return l=t.x-r,v=t.y-i,l*l+v*v}function Dn(t,e){let n=t[0];const r=[n];let i;for(let l=1,v=t.length;l<v;l++)i=t[l],Fn(i,n)>e&&(r.push(i),n=i);return n!==i&&i&&r.push(i),r}function Nt(t,e,n,r,i){let l=r,v=0;for(let o=e+1;o<n;o++){const s=zn(t[o],t[e],t[n]);s>l&&(v=o,l=s)}l>r&&(v-e>1&&Nt(t,e,v,r,i),i.push(t[v]),n-v>1&&Nt(t,v,n,r,i))}function In(t,e){const n=t.length-1,r=[t[0]];return Nt(t,0,n,e,r),r.push(t[n]),r}function ae(t,e,n=!1){if(t.length<=2)return t;const r=e*e;return t=n?t:Dn(t,r),t=In(t,r),t}var An=class st extends ht{constructor(){super(...arguments),this.points=[],this.count=0}onStart(e){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[e],this.brush.arrowEnd){this.arrowId=me();const n=ye(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&(this.points.push(e),this.count+=1),this.count>5&&(this.points=ae(this.points,1,!0),this.count=0),this.attr("d",st.toSvgData(this.points)),!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;if(e.setAttribute("d",st.toSvgData(ae(this.points,1,!0))),!e.getTotalLength()){const{x:n,y:r}=this.points[0],i=this.brush.size/2;e.setAttribute("d",`M ${n-i} ${r} a ${i},${i} 0 1,0 ${i*2},0 a ${i},${i} 0 1,0 ${-i*2},0`),e.setAttribute("fill",this.brush.color),e.setAttribute("stroke-width","0")}return!0}static line(e,n){const r=n.x-e.x,i=n.y-e.y;return{length:Math.sqrt(r**2+i**2),angle:Math.atan2(i,r)}}static controlPoint(e,n,r,i){const l=n||e,v=r||e,o=.2,s=st.line(l,v),u=s.angle+(i?Math.PI:0),c=s.length*o,a=e.x+Math.cos(u)*c,h=e.y+Math.sin(u)*c;return{x:a,y:h}}static bezierCommand(e,n,r){const i=st.controlPoint(r[n-1],r[n-2],e),l=st.controlPoint(e,r[n-1],r[n+1],!0);return`C ${i.x.toFixed(H)},${i.y.toFixed(H)} ${l.x.toFixed(H)},${l.y.toFixed(H)} ${e.x.toFixed(H)},${e.y.toFixed(H)}`}static toSvgData(e){return e.reduce((n,r,i,l)=>i===0?`M ${r.x.toFixed(H)},${r.y.toFixed(H)}`:`${n} ${st.bezierCommand(r,i,l)}`,"")}},Nn=class extends ht{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[],this._erased=[]}onSelected(t){const e=(n,r)=>{if(n&&n.length)for(let i=0;i<n.length;i++){const l=n[i];if(l.getTotalLength){const v=l.getTotalLength();for(let o=0;o<this.pathSubFactor;o++){const s=l.getPointAtLength(v*o/this.pathSubFactor),u=l.getPointAtLength(v*(o+1)/this.pathSubFactor);this.pathFragments.push({x1:s.x,x2:u.x,y1:s.y,y2:u.y,segment:o,element:r||l})}}else l.children&&e(l.children,l)}};t&&e(t.children)}onUnselected(){this.pathFragments=[]}onStart(t){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=t.x,this.svgPointPrevious.y=t.y}onMove(t){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=t.x,this.svgPointCurrent.y=t.y;const e=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,e}onEnd(){this.svgPointPrevious=void 0,this.svgPointCurrent=void 0;const t=this._erased;return this._erased=[],{undo:()=>t.forEach(e=>this.drauu._restoreNode(e)),redo:()=>t.forEach(e=>this.drauu._removeNode(e))}}checkAndEraseElement(){if(this.pathFragments.length)for(let t=0;t<this.pathFragments.length;t++){const e=this.pathFragments[t],n={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(e,n)&&(this.drauu._removeNode(e.element),this._erased.push(e.element))}return this._erased.length&&(this.pathFragments=this.pathFragments.filter(t=>!this._erased.includes(t.element))),this._erased.length>0}lineLineIntersect(t,e){const n=t.x1,r=t.x2,i=e.x1,l=e.x2,v=t.y1,o=t.y2,s=e.y1,u=e.y2,c=(n-r)*(s-u)-(v-o)*(i-l),a=(n*o-v*r)*(i-l)-(n-r)*(i*u-s*l),h=(n*o-v*r)*(s-u)-(v-o)*(i*u-s*l),d=(f,p,_)=>f>=p&&f<=_?!0:f>=_&&f<=p;if(c===0)return!1;{const f={x:a/c,y:h/c};return d(f.x,n,r)&&d(f.y,v,o)&&d(f.x,i,l)&&d(f.y,s,u)}}};function Tn(t){return{draw:new An(t),stylus:new Mn(t),line:new kn(t),rectangle:new Ln(t),ellipse:new Cn(t),eraseLine:new Nn(t)}}var Rn=class{constructor(t={}){this.options=t,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=vn(),this._originalPointerId=null,this._models=Tn(this),this._opStack=[],this._opIndex=0,this._disposables=[],this._elements=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),t.el&&this.mount(t.el,t.eventTarget,t.window)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(t){this._models[this.mode].onUnselected(),this.options.brush.mode=t,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(t){this.options.brush=t}resolveSelector(t){return typeof t=="string"?document.querySelector(t):t||null}mount(t,e,n=window){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(t),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const r=this.resolveSelector(e)||this.el,i=this.eventStart.bind(this),l=this.eventMove.bind(this),v=this.eventEnd.bind(this),o=this.eventKeyboard.bind(this);r.addEventListener("pointerdown",i,{passive:!1}),n.addEventListener("pointermove",l,{passive:!1}),n.addEventListener("pointerup",v,{passive:!1}),n.addEventListener("pointercancel",v,{passive:!1}),n.addEventListener("keydown",o,!1),n.addEventListener("keyup",o,!1),this._disposables.push(()=>{r.removeEventListener("pointerdown",i),n.removeEventListener("pointermove",l),n.removeEventListener("pointerup",v),n.removeEventListener("pointercancel",v),n.removeEventListener("keydown",o,!1),n.removeEventListener("keyup",o,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(t=>t()),this._disposables.length=0,this._elements.length=0,this.el=null,this._emitter.emit("unmounted")}on(t,e){return this._emitter.on(t,e)}undo(){return!this.canUndo()||this.drawing?!1:(this._opStack[--this._opIndex].undo(),this._emitter.emit("changed"),!0)}redo(){return!this.canRedo()||this.drawing?!1:(this._opStack[this._opIndex++].redo(),this._emitter.emit("changed"),!0)}canRedo(){return this._opIndex<this._opStack.length}canUndo(){return this._opIndex>0}eventMove(t){!this.acceptsInput(t)||!this.drawing||this.model._eventMove(t)&&(t.stopPropagation(),t.preventDefault(),this._emitter.emit("changed"))}eventStart(t){this.acceptsInput(t)&&(t.stopPropagation(),t.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._originalPointerId=t.pointerId,this._emitter.emit("start"),this._currentNode=this.model._eventDown(t),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(t){if(!this.acceptsInput(t)||!this.drawing)return;const e=this.model._eventUp(t);if(!e)this.cancel();else if(e===!0){const n=this._currentNode;this._appendNode(n),this.commit({undo:()=>this._removeNode(n),redo:()=>this._restoreNode(n)})}else this.commit(e);this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed"),this._originalPointerId=null}acceptsInput(t){return(!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(t.pointerType))&&!(this._originalPointerId&&this._originalPointerId!==t.pointerId)}eventKeyboard(t){this.shiftPressed===t.shiftKey&&this.altPressed===t.altKey||(this.shiftPressed=t.shiftKey,this.altPressed=t.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(t){this._opStack.length=this._opIndex,this._opStack.push(t),this._opIndex++;const e=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",e)}clear(){this._opStack.length=0,this._opIndex=0,this._elements=[],this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(t){this.clear(),this.el.innerHTML=t}_appendNode(t){const e=this._elements.at(-1);e?e.after(t):this.el.append(t);const n=this._elements.push(t)-1;t.dataset.drauu_index=n.toString()}_removeNode(t){t.remove(),this._elements[+t.dataset.drauu_index]=null}_restoreNode(t){const e=+t.dataset.drauu_index;this._elements[e]=t;for(let n=e-1;n>=0;n--){const r=this._elements[n];if(r){r.after(t);return}}this.el.prepend(t)}};function jn(t){return new Rn(t)}const Xn=Fe(()=>{const{currentSlideNo:t,isPresenter:e}=gt(),n=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],r=kt("slidev-drawing-enabled",!1),i=kt("slidev-drawing-pinned",!1),l=ze(kt("slidev-drawing-brush",{color:n[0],size:4,mode:"stylus"})),v=$(!1),o=$(!1),s=$(!1),u=$(!1),c=$("stylus"),a=S(()=>Dt.drawings.syncAll||e.value);let h=!1;const d=S({get(){return c.value},set(m){c.value=m,m==="arrow"?(p.mode="line",l.arrowEnd=!0):(p.mode=m,l.arrowEnd=!1)}}),f=tt({brush:l,acceptsInputTypes:S(()=>r.value&&(!Dt.drawings.presenterOnly||e.value)?void 0:["pen"]),coordinateTransform:!1}),p=De(jn(f));function _(){p.clear(),a.value&&Ht(t.value,"")}function y(){var m;s.value=p.canRedo(),o.value=p.canUndo(),u.value=!!((m=p.el)!=null&&m.children.length)}function E(m){h=!0;const g=Lt[m||t.value];g!=null?p.load(g):p.clear(),y(),h=!1}return p.on("changed",()=>{if(y(),!h){const m=p.dump(),g=t.value;(Lt[g]||"")!==m&&a.value&&Ht(g,p.dump())}}),Ve(m=>{h=!0,m[t.value]!=null&&p.load(m[t.value]||""),h=!1,y()}),Ie(()=>{et(t,()=>{p.mounted&&E()},{immediate:!0})}),p.on("start",()=>v.value=!0),p.on("end",()=>v.value=!1),window.addEventListener("keydown",m=>{if(!r.value||Ge.value)return;const g=!m.ctrlKey&&!m.altKey&&!m.shiftKey&&!m.metaKey;let x=!0;m.code==="KeyZ"&&(m.ctrlKey||m.metaKey)?m.shiftKey?p.redo():p.undo():m.code==="Escape"?r.value=!1:m.code==="KeyL"&&g?d.value="line":m.code==="KeyA"&&g?d.value="arrow":m.code==="KeyS"&&g?d.value="stylus":m.code==="KeyR"&&g?d.value="rectangle":m.code==="KeyE"&&g?d.value="ellipse":m.code==="KeyC"&&g?_():m.code.startsWith("Digit")&&g&&+m.code[5]<=n.length?l.color=n[+m.code[5]-1]:x=!1,x&&(m.preventDefault(),m.stopPropagation())},!1),{brush:l,brushColors:n,canClear:u,canRedo:s,canUndo:o,clear:_,drauu:p,drauuOptions:f,drawingEnabled:r,drawingMode:d,drawingPinned:i,drawingState:Lt,isDrawing:v,loadCanvas:E}}),On=["innerHTML"],sr=U({__name:"DrawingPreview",props:{page:{}},setup(t){const{drawingState:e}=Xn();return(n,r)=>w(e)[n.page]?(L(),I("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:w(e)[n.page]},null,8,On)):ct("v-if",!0)}}),nt=tt({});let Yn=[],Kn=[];ut(nt,"$syncUp",!0);ut(nt,"$syncDown",!0);ut(nt,"$paused",!1);ut(nt,"$onSet",t=>Yn.push(t));ut(nt,"$onPatch",t=>Kn.push(t));Ue();ut(nt,"$patch",async()=>!1);const Bn=He(nt,nt,!0);class qn{constructor(){this._capturePromises=new Map}getSnapshot(e){const n=Bn.state[e];if(!n)return;const r=pe(e);if(r&&(n==null?void 0:n.revision)===(r==null?void 0:r.meta.slide.revision))return n.image}async captureSnapshot(e,n,r=1e3){}async _captureSnapshot(e,n,r){}}const le=new qn,Vn=["id"],Gn=["id"],Un=["src"],Hn=U({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1},no:{type:Number,required:!1},useSnapshot:{type:Boolean,default:!1}},setup(t){const e=t,{isPrintMode:n}=gt(),r=$(null),i=Ae(r),l=$(null),v=S(()=>e.width??i.width.value),o=S(()=>e.width?e.width/Zt.value:i.height.value),s=S(()=>Qt.value&&!n.value?+Qt.value:Math.min(v.value/Jt.value,o.value/Wt.value)),u=S(()=>({height:`${Wt.value}px`,width:`${Jt.value}px`,transform:`translate(-50%, -50%) scale(${s.value})`,"--slidev-slide-scale":s.value})),c=S(()=>e.width?{width:`${e.width}px`,height:`${e.width/Zt.value}px`}:{});e.isMain&&Ne(S(()=>`:root { --slidev-slide-scale: ${s.value}; }`)),W(Ze,s),W(Qe,l);const a=S(()=>{if(!(!e.useSnapshot||e.no==null))return le.getSnapshot(e.no)});return Te(()=>{r.value&&e.useSnapshot&&e.no!=null&&le.captureSnapshot(e.no,r.value)}),(h,d)=>a.value?(L(),I(rt,{key:1},[ct(" Image preview "),z("img",{src:a.value,class:"w-full object-cover",style:O(c.value)},null,12,Un)],64)):(L(),I("div",{key:0,id:t.isMain?"slide-container":void 0,ref_key:"container",ref:r,class:"slidev-slide-container",style:O(c.value)},[z("div",{id:t.isMain?"slide-content":void 0,ref_key:"slideElement",ref:l,class:"slidev-slide-content",style:O(u.value)},[zt(h.$slots,"default",{},void 0,!0)],12,Gn),zt(h.$slots,"controls",{},void 0,!0)],12,Vn))}}),rr=Rt(Hn,[["__scopeId","data-v-17fb184a"]]),_e=Symbol("diContainer");function Zn(t){let e=0,n,r;const i=()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)};return(...l)=>(e+=1,r||(r=ue(!0),n=r.run(()=>t(...l))),he(i),n)}function Qn(t){let e,n;return(...r)=>(n||(n=ue(!0),e=n.run(()=>t(...r))),e)}function Jn(){const t={services:tt(new Map)};return Re(_e,t),{register:(e,n,r={shared:!0})=>{const i=r.shared?Zn(n):Qn(n);t.services.set(e,i)}}}function St(){const t=je(_e);if(!t)throw new Error("Di container not found");const e={inject:n=>{const r=t.services.get(n);if(!r)throw new Error(`Service with key ${String(n)} not found`);return r(e)}};return e}function bt(t){return Symbol.for(t.name)}const we=()=>{const t=tt({});return tt({data:t})},mt=bt(we),Wn=["onClick"],ts=["onClick"],es=["onClick"],ns=["onClick"],ss=["onClick"],rs=["onClick"],is=["onClick"],os=["onClick"],as=["onClick"],ls=["onClick"],cs=U({__name:"MemoryEditor",setup(t){Z();const e=St().inject(mt);function n(o){navigator.clipboard.writeText(o)}const r=$(),{style:i}=Xe(r,{initialValue:{x:0,y:0}});function l(){e.data.savedPositions=[]}function v(o){e.data.savedPositions=e.data.savedPositions.filter(s=>s!==o)}return(o,s)=>{const u=on;return L(),I("div",{ref_key:"draggableElement",ref:r,class:"fixed bg-black/40 p-2 rounded-xl h-auto w-auto z-100 max-w-[400px] flex flex-col gap-2 font-mono text-xs select-none",style:O(w(i))},[(L(!0),I(rt,null,Ut(w(e).data.savedPositions,c=>(L(),I("div",{key:c.x+":"+c.y,class:"flex flex-wrap bg-blue-500/20 rounded-full overflow-hidden"},[z("div",{class:"record",onClick:a=>n(`${c.x.toFixed(0)}`)}," x:"+X(c.x.toFixed(0)),9,Wn),z("div",{class:"record",onClick:a=>n(`${c.y.toFixed(0)}`)}," y:"+X(c.y.toFixed(0)),9,ts),z("div",{class:"record",onClick:a=>n(`${c.xPercent}%`)}," x%:"+X(c.xPercent),9,es),z("div",{class:"record",onClick:a=>n(`${c.yPercent}%`)}," y%:"+X(c.yPercent),9,ns),z("div",{class:"record",onClick:a=>v(c)},[V(u)],8,ss)]))),128)),(L(!0),I(rt,null,Ut(w(e).data.savedChanges.values(),c=>(L(),I("div",{key:c.x+":"+c.y,class:"flex flex-wrap bg-blue-500/20 rounded-full overflow-hidden"},[z("div",{class:"record",onClick:a=>n(`${c.x.toFixed(0)}`)},"x:"+X(c.x.toFixed(0)),9,rs),z("div",{class:"record",onClick:a=>n(`${c.y.toFixed(0)}`)},"y:"+X(c.y.toFixed(0)),9,is),z("div",{class:"record",onClick:a=>n(`size-${c.width.toFixed(0)}_${c.height.toFixed(0)}`)}," size ",8,os),z("div",{class:"record",onClick:a=>n(`pos-${c.x.toFixed(0)}_${c.y.toFixed(0)}`)}," pos ",8,as),z("div",{class:"record",onClick:a=>n(`sp-${c.x.toFixed(0)}_${c.y.toFixed(0)}_${c.width.toFixed(0)}_${c.height.toFixed(0)}`)}," sp ",8,ls)]))),128)),z("div",{class:"bg-blue-500/30 active:bg-blue-500 px-2 py-1 rounded-full cursor-pointer duration-100 self-center",onClick:s[0]||(s[0]=c=>l())},[V(u)])],4)}}});function Se(){const t=new AbortController,e=t.signal;return e.abort=()=>t.abort(),e}function Tt(t){const e=Se();return t.addEventListener("abort",()=>{e.abort()}),e}function us(t){return t==null?void 0:t._object}function be(){const t=$(new Set),e=$(null),n=$(null);let r=null;class i{constructor(o){this.signal=Se(),this.hoveredSignal=null,this.locked=!1,this.element=o,this.addListener("mouseenter",this.onEnter)}addListener(o,s,u=this.signal){this.element.addEventListener(o,s.bind(this),{signal:u})}onEnter(){this.hoveredSignal=Tt(this.signal),this.addListener("click",this.onClick,this.hoveredSignal),this.addListener("mouseleave",this.onLeave,this.hoveredSignal),e.value=this.element}onClick(){this.locked||(n.value=n.value===this.element?null:this.element)}onLeave(){this.hoveredSignal.abort(),this.hoveredSignal=null,e.value=null}dispose(){console.log("dispose"),this.signal.abort()}}function l(){const v=document.querySelectorAll("#slide-content .\\$obj"),o=new Set(v);[...o].filter(c=>!t.value.has(c)).forEach(c=>{t.value.add(c),c._object=new i(c)}),[...t.value].filter(c=>!o.has(c)).forEach(c=>{var a;t.value.delete(c),(a=c._object)==null||a.dispose()})}return r=setInterval(l,1e3),he(()=>{r&&(clearInterval(r),r=null)}),tt({objects:t,hovered:e,active:n})}const Ee=bt(be);function hs(t){return typeof t=="number"?new Promise(e=>setTimeout(e,t)):new Promise(e=>{const n=Symbol(),r=setInterval(()=>{const i=t(n);i!==n&&(clearInterval(r),e(i))},100)})}const Pe=()=>{const t=$(),e=$(1),n=$(),r=$(0),i=$(0),l=$(0),v=$(0);et(()=>t.value,async s=>{s||(t.value=await hs(u=>document.querySelector("#slide-content")??u))},{immediate:!0});function o(){const s=t.value.getBoundingClientRect();n.value=s,r.value=s.left,i.value=s.top,l.value=t.value.clientWidth/e.value,v.value=t.value.clientHeight/e.value,e.value=s.width/t.value.clientWidth}return et(()=>t.value,()=>{o()}),lt(window,"resize",()=>{o()}),tt({slideElement:t,rect:n,scale:e,left:r,top:i,width:l,height:v})},Et=bt(Pe),$e=t=>{const e=t.inject(Et),n=$(0),r=$(0),i=$(!1),l=$(!1),v=S(()=>(n.value-e.left)/e.scale),o=S(()=>(r.value-e.top)/e.scale),s=S(()=>Math.round(v.value/(e.width/e.scale)*1e4)/100),u=S(()=>Math.round(o.value/(e.height/e.scale)*1e4)/100);lt(()=>e.slideElement,"mouseleave",()=>{i.value=!1}),lt(()=>e.slideElement,"mouseenter",()=>{i.value=!0}),lt(()=>e.slideElement,"mousedown",()=>{l.value=!0}),lt(()=>e.slideElement,"mouseup",()=>{l.value=!1}),lt(window,"mousemove",a=>{n.value=a.clientX,r.value=a.clientY});function c({x:a,y:h}){return{x:(a-e.left)/e.scale,y:(h-e.top)/e.scale}}return tt({globalX:S(()=>n.value),globalY:S(()=>r.value),inSlide:S(()=>i.value),isDown:S(()=>l.value),localX:v,localY:o,localXPercent:s,localYPercent:u,globalToLocal:c})},Pt=bt($e),ds=U({__name:"ObjectEdit",setup(t){Z();const e=St(),n=e.inject(Ee),r=e.inject(Pt),i=e.inject(Et),l=e.inject(mt);l.data.savedChanges=new Map;const v=new Set(["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"]),o=S(()=>{var f;return d.value??((f=n.active)==null?void 0:f.getBoundingClientRect())}),s=S(()=>{var p;const f=(p=n.hovered)==null?void 0:p.getBoundingClientRect();return f?{left:`${f.left}px`,top:`${f.top}px`,width:`${f.width}px`,height:`${f.height}px`}:null}),u=S(()=>o.value?{left:`${o.value.left}px`,top:`${o.value.top}px`,width:`${o.value.width}px`,height:`${o.value.height}px`}:{});let c=null,a=null,h=null;const d=$();return et(()=>us(n.active),(f,p)=>{p&&(a==null||a.abort(),a=null),f&&(a=Tt(f.signal),f._registered||(f._registered=!0,f.signal.addEventListener("abort",()=>{l.data.savedChanges.delete(f)})),document.body.addEventListener("keydown",_=>{if(console.log(_.key),_.key==="Escape"){n.active=null;return}if(!v.has(_.key))return;d.value=f.element.getBoundingClientRect();const y=r.globalToLocal({x:d.value.left,y:d.value.top});y.width=d.value.width/i.scale,y.height=d.value.height/i.scale;let E=_.shiftKey?10:_.altKey?1:5;_.key==="ArrowDown"?y.y+=E:_.key==="ArrowUp"?y.y-=E:_.key==="ArrowRight"?y.x+=E:_.key==="ArrowLeft"&&(y.x-=E);const m=y.x+y.width/2,g=y.y+y.height/2;f.element.style.transition="none",f.element.style.left=`${m}px`,f.element.style.top=`${g}px`,console.log({left:f.element.style.left,top:f.element.style.top}),d.value=f.element.getBoundingClientRect(),l.data.savedChanges.set(f,{x:m,y:g,width:y.width/i.scale,height:y.height/i.scale}),_.stopImmediatePropagation()},{signal:a,capture:!0}),document.body.addEventListener("keyup",_=>{v.has(_.key)&&f.element.style.removeProperty("transition")},{signal:a,capture:!0}),f.addListener("mousedown",_=>{_.stopImmediatePropagation(),c=Tt(a);const y=f.element.getBoundingClientRect(),E=(_.clientX-y.left-y.width/2)/i.scale,m=(_.clientY-y.top-y.height/2)/i.scale;h={x:E,y:m},f.element.style.transition="none",c.addEventListener("abort",()=>{f.element.style.removeProperty("transition")}),window.addEventListener("mousemove",g=>{f.locked=!0;const x=r.globalToLocal({x:g.clientX,y:g.clientY});d.value=f.element.getBoundingClientRect();const P={x:x.x-h.x,y:x.y-h.y,width:d.value.width/i.scale,height:d.value.height/i.scale};f.element.style.left=`${P.x}px`,f.element.style.top=`${P.y}px`,l.data.savedChanges.set(f,P)},{signal:c}),window.addEventListener("mouseup",g=>{c==null||c.abort(),c=null,d.value=void 0,setTimeout(()=>{f.locked=!1},100)},{signal:c})},a))}),(f,p)=>(L(),I(rt,null,[s.value&&w(n).active!==w(n).hovered?(L(),I("div",{key:0,class:"fixed pointer-events-none border-2 z-[999] border-blue-500",style:O(s.value)},null,4)):ct("v-if",!0),w(n).active?(L(),I("div",{key:1,class:"fixed pointer-events-none border-2 z-[999] border-green-500",style:O(u.value)},null,4)):ct("v-if",!0)],64))}}),fs=U({__name:"MouseSizeSelect",setup(t){Z();const e=St(),n=e.inject(Pt),r=e.inject(mt),i=e.inject(Et);return et(()=>n.isDown,l=>{l?r.data.selectSize={startX:n.globalX,startY:n.globalY}:r.data.selectSize=null}),et(()=>[n.globalX,n.globalY],([l,v])=>{r.data.selectSize&&(r.data.selectSize.width=Math.abs(l-r.data.selectSize.startX)/i.scale,r.data.selectSize.height=Math.abs(v-r.data.selectSize.startY)/i.scale,r.data.selectSize.widthPercent=Math.round(r.data.selectSize.width/(i.width??0)*1e4)/100,r.data.selectSize.heightPercent=Math.round(r.data.selectSize.height/(i.height??0)*1e4)/100)}),(l,v)=>w(r).data.selectSize?(L(),I("div",{key:0,ref:"selectionBox",class:"fixed b-[1px] border-dashed border-white/50 pointer-events-none",style:O({left:`${Math.min(w(r).data.selectSize.startX,w(n).globalX)}px`,top:`${Math.min(w(r).data.selectSize.startY,w(n).globalY)}px`,width:`${Math.abs(w(n).globalX-w(r).data.selectSize.startX)}px`,height:`${Math.abs(w(n).globalY-w(r).data.selectSize.startY)}px`})},null,4)):ct("v-if",!0)}}),vs=U({__name:"MousePosTooltip",setup(t){var o;Z();const e=St(),n=e.inject(Pt),r=e.inject(mt);(o=r.data).savedPositions??(o.savedPositions=[]);const i=S(()=>r.data.selectSize?{width:Math.round(r.data.selectSize.width)||0,height:Math.round(r.data.selectSize.height)||0,widthPercent:Math.round(r.data.selectSize.widthPercent*100)/100||0,heightPercent:Math.round(r.data.selectSize.heightPercent*100)/100||0}:null),l=S(()=>i.value?i.value.width!==0||i.value.height!==0:!1),{alt_q:v}=Oe();return et(v,s=>{s&&r.data.savedPositions.push({x:n.globalX,y:n.globalY,xPercent:n.localXPercent,yPercent:n.localYPercent})}),(s,u)=>w(n).inSlide?(L(),I("div",{key:0,class:"absolute bg-[rgba(0,0,0,0.8)] text-white p-2 rounded-md text-sm pointer-events-none z-[1000] font-mono",style:O({left:`${w(n).globalX+10}px`,top:`${w(n).globalY+10}px`})},[l.value?(L(),I(rt,{key:0},[yt(" width: "+X(i.value.width)+"px ("+X(i.value.widthPercent)+"%) ",1),u[0]||(u[0]=z("br",null,null,-1)),yt(" height: "+X(i.value.height)+"px ("+X(i.value.heightPercent)+"%) ",1)],64)):(L(),I(rt,{key:1},[yt(" px "+X(Math.round(w(n).localX))+" "+X(Math.round(w(n).localY))+" ",1),u[1]||(u[1]=z("br",null,null,-1)),yt(" % "+X(w(n).localXPercent)+" "+X(w(n).localYPercent),1)],64))],4)):ct("v-if",!0)}}),ps=U({__name:"CoordHelper",setup(t){Z();const e=Jn();return e.register(Et,Pe),e.register(Pt,$e),e.register(Ee,be),e.register(mt,we,{shared:!1}),(n,r)=>(L(),de(Ye,{to:"body"},[zt(n.$slots,"default")]))}}),gs=["variant"],ms={class:"absolute right-[20px] bottom-[20px] text-lg opacity-50"},xs={__name:"global-top",setup(t){Z();const{currentSlideNo:e,currentSlideRoute:n}=gt(),r=S(()=>{var i,l;return((l=(i=n.value.meta)==null?void 0:i.slide)==null?void 0:l.frontmatter)||{}});return(i,l)=>{const v=vs,o=fs,s=ds,u=cs;return L(),I("div",{variant:r.value.variant??"first"},[V(ps,null,{default:Ke(()=>[V(v),V(o),V(s),V(u)]),_:1}),z("div",ms,X(w(e)),1),z("div",{class:fe(w(an)(["absolute left-[20px] top-[20px] text-[2.5em] transition-all duration-500",r.value.topTitleClass])),style:O({opacity:r.value.topTitle?"70":"0"})},X(r.value.topTitle),7)],8,gs)}}};var jt={exports:{}};jt.exports;(function(t){(function(e,n,r){function i(s){var u=this,c=o();u.next=function(){var a=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=a-(u.c=a|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(s),u.s0<0&&(u.s0+=1),u.s1-=c(s),u.s1<0&&(u.s1+=1),u.s2-=c(s),u.s2<0&&(u.s2+=1),c=null}function l(s,u){return u.c=s.c,u.s0=s.s0,u.s1=s.s1,u.s2=s.s2,u}function v(s,u){var c=new i(s),a=u&&u.state,h=c.next;return h.int32=function(){return c.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,a&&(typeof a=="object"&&l(a,c),h.state=function(){return l(c,{})}),h}function o(){var s=4022871197,u=function(c){c=String(c);for(var a=0;a<c.length;a++){s+=c.charCodeAt(a);var h=.02519603282416938*s;s=h>>>0,h-=s,h*=s,s=h>>>0,h-=s,s+=h*4294967296}return(s>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=v:this.alea=v})(it,t)})(jt);var ys=jt.exports,Xt={exports:{}};Xt.exports;(function(t){(function(e,n,r){function i(o){var s=this,u="";s.x=0,s.y=0,s.z=0,s.w=0,s.next=function(){var a=s.x^s.x<<11;return s.x=s.y,s.y=s.z,s.z=s.w,s.w^=s.w>>>19^a^a>>>8},o===(o|0)?s.x=o:u+=o;for(var c=0;c<u.length+64;c++)s.x^=u.charCodeAt(c)|0,s.next()}function l(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s}function v(o,s){var u=new i(o),c=s&&s.state,a=function(){return(u.next()>>>0)/4294967296};return a.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,f=(h+d)/(1<<21);while(f===0);return f},a.int32=u.next,a.quick=a,c&&(typeof c=="object"&&l(c,u),a.state=function(){return l(u,{})}),a}n&&n.exports?n.exports=v:this.xor128=v})(it,t)})(Xt);var _s=Xt.exports,Ot={exports:{}};Ot.exports;(function(t){(function(e,n,r){function i(o){var s=this,u="";s.next=function(){var a=s.x^s.x>>>2;return s.x=s.y,s.y=s.z,s.z=s.w,s.w=s.v,(s.d=s.d+362437|0)+(s.v=s.v^s.v<<4^(a^a<<1))|0},s.x=0,s.y=0,s.z=0,s.w=0,s.v=0,o===(o|0)?s.x=o:u+=o;for(var c=0;c<u.length+64;c++)s.x^=u.charCodeAt(c)|0,c==u.length&&(s.d=s.x<<10^s.x>>>4),s.next()}function l(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s.v=o.v,s.d=o.d,s}function v(o,s){var u=new i(o),c=s&&s.state,a=function(){return(u.next()>>>0)/4294967296};return a.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,f=(h+d)/(1<<21);while(f===0);return f},a.int32=u.next,a.quick=a,c&&(typeof c=="object"&&l(c,u),a.state=function(){return l(u,{})}),a}n&&n.exports?n.exports=v:this.xorwow=v})(it,t)})(Ot);var ws=Ot.exports,Yt={exports:{}};Yt.exports;(function(t){(function(e,n,r){function i(o){var s=this;s.next=function(){var c=s.x,a=s.i,h,d;return h=c[a],h^=h>>>7,d=h^h<<24,h=c[a+1&7],d^=h^h>>>10,h=c[a+3&7],d^=h^h>>>3,h=c[a+4&7],d^=h^h<<7,h=c[a+7&7],h=h^h<<13,d^=h^h<<9,c[a]=d,s.i=a+1&7,d};function u(c,a){var h,d=[];if(a===(a|0))d[0]=a;else for(a=""+a,h=0;h<a.length;++h)d[h&7]=d[h&7]<<15^a.charCodeAt(h)+d[h+1&7]<<13;for(;d.length<8;)d.push(0);for(h=0;h<8&&d[h]===0;++h);for(h==8?d[7]=-1:d[h],c.x=d,c.i=0,h=256;h>0;--h)c.next()}u(s,o)}function l(o,s){return s.x=o.x.slice(),s.i=o.i,s}function v(o,s){o==null&&(o=+new Date);var u=new i(o),c=s&&s.state,a=function(){return(u.next()>>>0)/4294967296};return a.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,f=(h+d)/(1<<21);while(f===0);return f},a.int32=u.next,a.quick=a,c&&(c.x&&l(c,u),a.state=function(){return l(u,{})}),a}n&&n.exports?n.exports=v:this.xorshift7=v})(it,t)})(Yt);var Ss=Yt.exports,Kt={exports:{}};Kt.exports;(function(t){(function(e,n,r){function i(o){var s=this;s.next=function(){var c=s.w,a=s.X,h=s.i,d,f;return s.w=c=c+1640531527|0,f=a[h+34&127],d=a[h=h+1&127],f^=f<<13,d^=d<<17,f^=f>>>15,d^=d>>>12,f=a[h]=f^d,s.i=h,f+(c^c>>>16)|0};function u(c,a){var h,d,f,p,_,y=[],E=128;for(a===(a|0)?(d=a,a=null):(a=a+"\0",d=0,E=Math.max(E,a.length)),f=0,p=-32;p<E;++p)a&&(d^=a.charCodeAt((p+32)%a.length)),p===0&&(_=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,p>=0&&(_=_+1640531527|0,h=y[p&127]^=d+_,f=h==0?f+1:0);for(f>=128&&(y[(a&&a.length||0)&127]=-1),f=127,p=4*128;p>0;--p)d=y[f+34&127],h=y[f=f+1&127],d^=d<<13,h^=h<<17,d^=d>>>15,h^=h>>>12,y[f]=d^h;c.w=_,c.X=y,c.i=f}u(s,o)}function l(o,s){return s.i=o.i,s.w=o.w,s.X=o.X.slice(),s}function v(o,s){o==null&&(o=+new Date);var u=new i(o),c=s&&s.state,a=function(){return(u.next()>>>0)/4294967296};return a.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,f=(h+d)/(1<<21);while(f===0);return f},a.int32=u.next,a.quick=a,c&&(c.X&&l(c,u),a.state=function(){return l(u,{})}),a}n&&n.exports?n.exports=v:this.xor4096=v})(it,t)})(Kt);var bs=Kt.exports,Bt={exports:{}};Bt.exports;(function(t){(function(e,n,r){function i(o){var s=this,u="";s.next=function(){var a=s.b,h=s.c,d=s.d,f=s.a;return a=a<<25^a>>>7^h,h=h-d|0,d=d<<24^d>>>8^f,f=f-a|0,s.b=a=a<<20^a>>>12^h,s.c=h=h-d|0,s.d=d<<16^h>>>16^f,s.a=f-a|0},s.a=0,s.b=0,s.c=-1640531527,s.d=1367130551,o===Math.floor(o)?(s.a=o/4294967296|0,s.b=o|0):u+=o;for(var c=0;c<u.length+20;c++)s.b^=u.charCodeAt(c)|0,s.next()}function l(o,s){return s.a=o.a,s.b=o.b,s.c=o.c,s.d=o.d,s}function v(o,s){var u=new i(o),c=s&&s.state,a=function(){return(u.next()>>>0)/4294967296};return a.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,f=(h+d)/(1<<21);while(f===0);return f},a.int32=u.next,a.quick=a,c&&(typeof c=="object"&&l(c,u),a.state=function(){return l(u,{})}),a}n&&n.exports?n.exports=v:this.tychei=v})(it,t)})(Bt);var Es=Bt.exports,Me={exports:{}};const Ps={},$s=Object.freeze(Object.defineProperty({__proto__:null,default:Ps},Symbol.toStringTag,{value:"Module"})),Ms=ln($s);(function(t){(function(e,n,r){var i=256,l=6,v=52,o="random",s=r.pow(i,l),u=r.pow(2,v),c=u*2,a=i-1,h;function d(g,x,P){var k=[];x=x==!0?{entropy:!0}:x||{};var M=y(_(x.entropy?[g,m(n)]:g??E(),3),k),T=new f(k),A=function(){for(var D=T.g(l),Y=s,N=0;D<u;)D=(D+N)*i,Y*=i,N=T.g(1);for(;D>=c;)D/=2,Y/=2,N>>>=1;return(D+N)/Y};return A.int32=function(){return T.g(4)|0},A.quick=function(){return T.g(4)/4294967296},A.double=A,y(m(T.S),n),(x.pass||P||function(D,Y,N,R){return R&&(R.S&&p(R,T),D.state=function(){return p(T,{})}),N?(r[o]=D,Y):D})(A,M,"global"in x?x.global:this==r,x.state)}function f(g){var x,P=g.length,k=this,M=0,T=k.i=k.j=0,A=k.S=[];for(P||(g=[P++]);M<i;)A[M]=M++;for(M=0;M<i;M++)A[M]=A[T=a&T+g[M%P]+(x=A[M])],A[T]=x;(k.g=function(D){for(var Y,N=0,R=k.i,Q=k.j,G=k.S;D--;)Y=G[R=a&R+1],N=N*i+G[a&(G[R]=G[Q=a&Q+Y])+(G[Q]=Y)];return k.i=R,k.j=Q,N})(i)}function p(g,x){return x.i=g.i,x.j=g.j,x.S=g.S.slice(),x}function _(g,x){var P=[],k=typeof g,M;if(x&&k=="object")for(M in g)try{P.push(_(g[M],x-1))}catch{}return P.length?P:k=="string"?g:g+"\0"}function y(g,x){for(var P=g+"",k,M=0;M<P.length;)x[a&M]=a&(k^=x[a&M]*19)+P.charCodeAt(M++);return m(x)}function E(){try{var g;return h&&(g=h.randomBytes)?g=g(i):(g=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(g)),m(g)}catch{var x=e.navigator,P=x&&x.plugins;return[+new Date,e,P,e.screen,m(n)]}}function m(g){return String.fromCharCode.apply(0,g)}if(y(r.random(),n),t.exports){t.exports=d;try{h=Ms}catch{}}else r["seed"+o]=d})(typeof self<"u"?self:it,[],Math)})(Me);var Cs=Me.exports,ks=ys,Ls=_s,Fs=ws,zs=Ss,Ds=bs,Is=Es,ot=Cs;ot.alea=ks;ot.xor128=Ls;ot.xorwow=Fs;ot.xorshift7=zs;ot.xor4096=Ds;ot.tychei=Is;var As=ot;const Ns=cn(As),Ts="/speech/slides/2024_holy_gears-of-vue-reactivity/assets/dither-CoMWuRQy.png",Rs=U({__name:"DitherImg",setup(t){return Z(),(e,n)=>(L(),I("div",{class:"absolute top-0 left-0 w-full h-full",style:O({background:`url(${w(Ts)})`,opacity:"0.15"})},null,4))}}),js=["variant"],ce=.3,Xs=.3,Os=.3,Ys=U({__name:"BlurredPolyBackground",setup(t){Z();const{currentSlideRoute:e}=gt(),n=S(()=>{var h,d;return((d=(h=e.value.meta)==null?void 0:h.slide)==null?void 0:d.frontmatter)||{}}),r=S(()=>n.value.grow||"full"),i=S(()=>+(n.value.growOpacity||.4)),l=S(()=>n.value.growSeed==="false"||n.value.growSeed===!1?Date.now().toString():n.value.growSeed||"default");function v(h){let p=[-.2,1.2],_=[-.2,1.2];function y(m,g){return[Math.max(m[0],g[0]),Math.min(m[1],g[1])]}const E=h.split("-");for(const m of E)switch(m){case"top":_=y(_,[-.2,.6]);break;case"bottom":_=y(_,[.4,1.2]);break;case"left":p=y(p,[-.2,.6]);break;case"right":p=y(p,[.4,1.2]);break;case"xcenter":p=y(p,[.25,.75]);break;case"ycenter":_=y(_,[.25,.75]);break;case"center":p=y(p,[.25,.75]),_=y(_,[.25,.75]);break;case"full":p=y(p,[0,1]),_=y(_,[0,1]);break}return{x:p,y:_}}function o([h,d],[f,p]){return(f-h)**2+(p-d)**2}function s(h=16){function d(){const y=v(r.value),E=Ns(`${l.value}-${e.value.no}`);function m([x,P]){return E()*(P-x)+x}function g(x,P){return x=x*(1+P*2)-P,E()<Os?x+(E()-.5)*Xs:x}return Array.from({length:h}).fill(0).map(()=>[g(m(y.x),ce),g(m(y.y),ce)])}const f=$(d()),p=S(()=>f.value.map(([y,E])=>`${y*100}% ${E*100}%`).join(", "));function _(){const y=new Set(d());f.value=f.value.map(E=>{let m=Number.POSITIVE_INFINITY,g;for(const x of y){const P=o(E,x);P<m&&(m=P,g=x)}return y.delete(g),g})}return et(e,()=>{_()}),p}const u=s(10),c=s(6),a=s(3);return(h,d)=>(L(),I(rt,null,[z("div",{class:"bg transform-gpu overflow-hidden pointer-events-none",variant:n.value.variant||"main",style:{filter:"blur(70px)"},"aria-hidden":"true"},[z("div",{class:"clip",style:O({"clip-path":`polygon(${w(u)})`,opacity:i.value,"background-image":"linear-gradient(to right, var(--bg-first) 0%, #FFFFFF10 100%)"})},null,4),z("div",{class:"clip",style:O({"clip-path":`polygon(${w(c)})`,opacity:i.value,"background-image":"linear-gradient(to right, var(--bg-second) 0%, #FFFFFF10 100%)"})},null,4),z("div",{class:"clip",style:O({"clip-path":`polygon(${w(a)})`,opacity:i.value,"background-image":"linear-gradient(to right, var(--bg-third) 0%, #FFFFFF10 100%)"})},null,4)],8,js),V(Rs)],64))}}),Ks=Rt(Ys,[["__scopeId","data-v-38ee87dd"]]),Bs=["variant"],qs={__name:"global-bottom",setup(t){Z();const{currentSlideRoute:e}=gt(),n=S(()=>{var r,i;return((i=(r=e.value.meta)==null?void 0:r.slide)==null?void 0:i.frontmatter)||{}});return(r,i)=>(L(),I("div",{variant:n.value.variant??"first"},[V(Ks)],8,Bs))}},ir={render:()=>[ve(xs)]},or={render:()=>[ve(qs)]},Vs={render:()=>[]},Gs={render:()=>[]},Us=["data-slidev-no"],Hs=U({__name:"SlideWrapper",props:{clicksContext:{type:Object,required:!0},renderContext:{type:String,default:"slide"},route:{type:Object,required:!0}},setup(t){const e=t,n=S(()=>{var l,v;return((v=(l=e.route.meta)==null?void 0:l.slide)==null?void 0:v.frontmatter.zoom)??1});W(Je,e.route),W(We,e.route.meta.slide.frontmatter),W(tn,$(e.route.no)),W(en,$(e.renderContext)),W(nn,Be(e,"clicksContext")),W(sn,n);const r=S(()=>n.value===1?void 0:{width:`${100/n.value}%`,height:`${100/n.value}%`,transformOrigin:"top left",transform:`scale(${n.value})`}),i=S(()=>({...r.value,"user-select":Dt.selectable?void 0:"none"}));return(l,v)=>(L(),I("div",{"data-slidev-no":e.route.no,class:fe(w(rn)(t.route,["slide","presenter"].includes(e.renderContext)?"":"disable-view-transition")),style:O(i.value)},[V(w(Gs)),(L(),de(qe(e.route.component))),V(w(Vs))],14,Us))}}),ar=Rt(Hs,[["__scopeId","data-v-31bd32c5"]]);export{or as G,ar as S,sr as _,rr as a,un as b,Xn as c,ir as d,nr as u};
